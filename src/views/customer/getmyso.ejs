<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/heads/head', {title:"My Service Orders"}); %>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>

<body  class="d-flex flex-column min-vh-100">
  <header>
    <%- include('../partials/navs/nav',{usertype:"customer", activepage:"Service order details",title:"My Service Orders"}); %>
</header>
  
    <div class="container">
        <h2 class="text-monospace text-center pt-3">SERVICE ORDER HISTORY</h2><br>
        <% if(data.dataFound){ %>
          <div class="card-columns">
            <% for(var so of sorder){ %>
              <div class="card shadow border-success">
                  <div class="card-header bg-success border-success font-weight-bolder">
                      Service Order ID : <%= so.service_order_id %>
                    </div>
                <div class="card-body">
                  <ul class="list-group list-group-flush">
                      <li class="list-group-item">Vehicle Number &emsp;: <%=so.vehicle_number%></li>
                      <li class="list-group-item">Start Date &emsp;: <%= (new Date(so.start_date)).toLocaleString() %></li>
                      <li class="list-group-item">Invoice ID &emsp;: <%= so.invoice_id %></li>
                      <li class="list-group-item">Amount &emsp;: Rs. <%= so.payment_amount %></li>
                      <li class="list-group-item">End Date &emsp;: <%=  so.end_date==null?null:(new Date(so.end_date)).toLocaleString() %></li>
                      <li class="list-group-item">Status &emsp;: <%= so.status %></li>
                    </ul>
                </div>
              </div>    
          <% } %>
        </div>                
    <% } else {%>
      <div class="d-flex justify-content-center"><h4><%= data.error.message%></h4></div>
    <% } %> 
   
  </div>
  <footer class="mt-auto">
    <%- include('../partials/footers/staff_footer'); %>
  </footer>
</body>
</html>